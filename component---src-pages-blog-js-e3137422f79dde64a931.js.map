{"version":3,"sources":["webpack:///./src/components/article-preview.js","webpack:///./node_modules/react-ticker/dist/index.es.js","webpack:///./src/components/article-ticker.js","webpack:///./src/pages/blog.js"],"names":["date","d","rawDay","rawMonth","node","article","className","cx","styles","id","slug","meta","title","publishDate","Date","getDate","getMonth","getFullYear","toString","substr","video","isCurrent","image","alt","fluid","content","body","source","escapeHtml","debounce","fn","time","timeout","_this","this","_arguments","arguments","functionCall","apply","clearTimeout","setTimeout","guidGenerator","S4","Math","random","substring","getHighest","elements","highest","forEach","el","rect","height","getNext","_ref4","mode","from","direction","width","start","left","getPosition","_ref5","index","offset","_ref2","_ref","getFromOffset","getFrom","to","_ref3","getTo","next","getNextOffset","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_extends","assign","hasOwnProperty","call","inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","possibleConstructorReturn","self","ReferenceError","toConsumableArray","arr","Array","isArray","arr2","_React$Component","TickerElement","_temp","_len","args","_key","getPrototypeOf","concat","state","children","move","position","undefined","x","isMoving","nextTriggered","elementRef","createRef","componentDidMount","setPosition","observer","MutationObserver","onMutation","observe","current","characterData","childList","subtree","componentWillUnmount","disconnect","componentDidUpdate","prevProps","prevState","style","transform","prevRect","animate","isMount","_this$props","onNext","setRect","getBoundingClientRect","offsetRelative","Number","replace","getStartOffset","nextOffset","nextTriggerOnMount$$1","prevOffset","nextTriggerOnMount","setState","shouldTriggerNext","triggerNext","shouldFinish","prevTimestamp","window","requestAnimationFrame","step","timestamp","progress","speed","onFinish","render","createElement","willChange","top","ref","Component","propTypes","isRequired","defaultProps","getDefaultState","Ticker","tickerRef","dOnResize","onResize","offsetWidth","addEventListener","removeEventListener","map","newEl","filter","_this2","overflow","textString","ticker","item","ScrollToTop","clickHandler","scroll","onClick","BlogIndex","clickToScrollHandler","scrollTo","posts","get","components","hasVideo","c","__typename","hasTicker","PageHead","data","contentfulPage","classNames","blogHero","wrapper","text","post","React","pageQuery"],"mappings":"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","file":"component---src-pages-blog-js-e3137422f79dde64a931.js","sourcesContent":["import Img from 'gatsby-image'\nimport Markdown from 'react-markdown'\nimport React from 'react'\nimport VideoPlayer from './video-player'\nimport cx from 'classnames'\nimport styles from './article-preview.module.css'\n\nconst formatDate = date => {\n  const d = new Date(date)\n  const rawDay = d.getDate()\n  const rawMonth = d.getMonth()\n  const rawYear = d.getFullYear()\n\n  const day = rawDay >= 10 ? rawDay : '0' + rawDay\n  const month = rawMonth >= 10 ? rawMonth : '0' + rawMonth\n  const year = rawYear.toString().substr(-2)\n  return `${month}.${day}.${year}`\n}\n\nexport default ({ article }) => {\n  const { node } = article\n\n  return (\n    <div className=\"article-wrap\">\n      <article className={cx(styles.article)} id={node.slug}>\n        <div className={styles.meta}>\n          <h2 className={styles.title}>{node.title}</h2>\n          <small>{formatDate(node.publishDate)}</small>\n        </div>\n        {/* {node.video && <VideoPlayer videoUrl={node.video.videoUrl} />} */}\n        {node.video && <VideoPlayer {...node.video} isCurrent />}\n        {!node.video && node.image && (\n          <Img\n            className={styles.image}\n            alt={node.title}\n            fluid={node.image.fluid}\n          />\n        )}\n\n        <div className={styles.content}>\n          <Markdown\n            className={styles.body}\n            source={node.body.body}\n            escapeHtml={false}\n          />\n        </div>\n      </article>\n    </div>\n  )\n}\n","import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport React from 'react';\nimport { bool, func, node, number, object, oneOfType, string } from 'prop-types';\n\nvar debounce = function debounce(fn, time) {\n  var timeout = void 0;\n  return function () {\n    var _this = this,\n        _arguments = arguments;\n\n    var functionCall = function functionCall() {\n      return fn.apply(_this, _arguments);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(functionCall, time);\n  };\n}; // https://stackoverflow.com/questions/6860853/generate-random-string-for-div-id#6860916\n\n\nvar guidGenerator = function guidGenerator() {\n  var S4 = function S4() {\n    return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n  };\n\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4();\n};\n\nfunction getHighest(elements) {\n  var highest = 0;\n  elements.forEach(function (el) {\n    if (el.rect.height > highest) {\n      highest = el.rect.height;\n    }\n  });\n  return highest;\n}\n\nfunction nextTriggerOnMount(_ref) {\n  var rect = _ref.rect,\n      mode = _ref.mode,\n      prevOffset = _ref.prevOffset,\n      position = _ref.position,\n      direction = _ref.direction,\n      width = _ref.width;\n  if (mode !== 'chain') return false;\n\n  switch (direction) {\n    case 'toRight':\n      return position.from > 0;\n\n    case 'toLeft':\n    default:\n      return rect.width + position.from <= width;\n  }\n}\n\nfunction getFromOffset(_ref) {\n  var rect = _ref.rect,\n      offset = _ref.offset,\n      direction = _ref.direction;\n\n  switch (direction) {\n    case 'toRight':\n      return offset - rect.width;\n\n    case 'toLeft':\n    default:\n      return offset;\n  }\n}\n\nfunction getFrom(_ref2) {\n  var index = _ref2.index,\n      rect = _ref2.rect,\n      offset = _ref2.offset,\n      width = _ref2.width,\n      direction = _ref2.direction;\n  if (index === 0) return offset;\n\n  if (typeof offset === 'number') {\n    return getFromOffset({\n      rect: rect,\n      offset: offset,\n      direction: direction\n    });\n  }\n\n  switch (direction) {\n    case 'toRight':\n      return -rect.width;\n\n    case 'toLeft':\n    default:\n      return width;\n  }\n}\n\nfunction getTo(_ref3) {\n  var rect = _ref3.rect,\n      width = _ref3.width,\n      direction = _ref3.direction;\n\n  switch (direction) {\n    case 'toRight':\n      return width;\n\n    case 'toLeft':\n    default:\n      return -rect.width;\n  }\n}\n\nfunction getNext(_ref4) {\n  var mode = _ref4.mode,\n      from = _ref4.from,\n      direction = _ref4.direction,\n      rect = _ref4.rect,\n      width = _ref4.width;\n  var start = from || 0;\n\n  switch (mode) {\n    case 'await':\n      switch (direction) {\n        case 'toRight':\n          return width;\n\n        case 'toLeft':\n        default:\n          return -rect.width;\n      }\n\n    case 'smooth':\n      switch (direction) {\n        case 'toRight':\n          return rect.width > width ? 0 : width - rect.width;\n\n        case 'toLeft':\n        default:\n          return rect.width > width ? width - rect.width : 0;\n      }\n\n    case 'chain':\n    default:\n      switch (direction) {\n        case 'toRight':\n          return 0;\n\n        case 'toLeft':\n        default:\n          return rect.width + start > width ? width - rect.width : width - rect.left - rect.width;\n      }\n\n  }\n}\n\nvar getPosition = function getPosition(_ref5) {\n  var mode = _ref5.mode,\n      index = _ref5.index,\n      rect = _ref5.rect,\n      offset = _ref5.offset,\n      width = _ref5.width,\n      direction = _ref5.direction;\n  var from = getFrom({\n    index: index,\n    rect: rect,\n    offset: offset,\n    width: width,\n    direction: direction\n  });\n  var to = getTo({\n    rect: rect,\n    width: width,\n    direction: direction\n  });\n  return {\n    from: from,\n    to: to,\n    next: getNext({\n      mode: mode,\n      from: from,\n      direction: direction,\n      rect: rect,\n      width: width\n    })\n  };\n};\n\nfunction getNextOffset(_ref) {\n  var from = _ref.from,\n      rect = _ref.rect,\n      direction = _ref.direction;\n\n  switch (direction) {\n    case 'toRight':\n      {\n        return from;\n      }\n\n    case 'toLeft':\n    default:\n      {\n        return from + rect.width;\n      }\n  }\n}\n\nfunction getStartOffset(_ref) {\n  var offset = _ref.offset,\n      rect = _ref.rect,\n      direction = _ref.direction,\n      width = _ref.width;\n\n  if (offset === 'run-in') {\n    switch (direction) {\n      case 'toRight':\n        return -rect.width;\n\n      case 'toLeft':\n      default:\n        return width;\n    }\n  }\n\n  if (typeof offset === 'string') {\n    var offsetRelative = Number(offset.replace('%', ''));\n    if (offsetRelative) return width / 100 * offsetRelative;\n  }\n\n  return offset;\n}\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar toConsumableArray = function toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nvar TickerElement = function (_React$Component) {\n  inherits(TickerElement, _React$Component);\n\n  function TickerElement() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, TickerElement);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = TickerElement.__proto__ || Object.getPrototypeOf(TickerElement)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      children: _this.props.children({\n        index: _this.props.index\n      }),\n      move: _this.props.move,\n      position: {\n        from: undefined,\n        to: undefined,\n        next: undefined\n      },\n      offset: _this.props.offset,\n      rect: null\n    }, _this.x = 0, _this.isMoving = false, _this.nextTriggered = false, _this.elementRef = React.createRef(), _this.componentDidMount = function () {\n      _this.setPosition(true);\n\n      _this.observer = new MutationObserver(_this.onMutation);\n\n      _this.observer.observe(_this.elementRef.current, {\n        characterData: true,\n        childList: true,\n        subtree: true\n      });\n    }, _this.componentWillUnmount = function () {\n      _this.observer.disconnect();\n    }, _this.onMutation = function () {\n      _this.setPosition();\n    }, _this.componentDidUpdate = function (prevProps, prevState) {\n      if (!_this.x && prevState.position.from !== _this.state.position.from) {\n        _this.x = _this.state.position.from;\n        _this.elementRef.current.style.transform = 'translate3d(' + _this.x + 'px, 0, 0)';\n      }\n\n      if (_this.x !== _this.state.position.from && prevProps.prevRect && _this.props.prevRect && prevProps.prevRect.width !== _this.props.prevRect.width) {\n        if (_this.props.offset) {\n          _this.x = _this.x + (_this.props.offset - prevProps.offset);\n        } else {\n          _this.x = _this.x + (_this.props.prevRect.width - prevProps.prevRect.width);\n        }\n\n        _this.elementRef.current.style.transform = 'translate3d(' + _this.x + 'px, 0, 0)';\n      }\n\n      if (_this.props.move && !prevProps.start && _this.props.start) {\n        _this.animate();\n      }\n\n      if (_this.props.start && !prevProps.move && _this.props.move) {\n        _this.animate();\n      }\n\n      if (prevProps.move && !_this.props.move) {\n        _this.isMoving = false;\n      }\n    }, _this.setPosition = function (isMount) {\n      var _this$props = _this.props,\n          mode = _this$props.mode,\n          width = _this$props.width,\n          id = _this$props.id,\n          onNext = _this$props.onNext,\n          direction = _this$props.direction,\n          index = _this$props.index,\n          setRect = _this$props.setRect;\n\n      var rect = _this.elementRef.current.getBoundingClientRect();\n\n      if (rect.width === 0) return;\n      var offset = _this.props.index === 0 ? getStartOffset({\n        offset: _this.props.offset,\n        rect: rect,\n        direction: direction,\n        width: width\n      }) : _this.props.offset;\n      var position = getPosition({\n        mode: mode,\n        rect: rect,\n        index: index,\n        offset: offset,\n        width: width,\n        direction: direction\n      });\n      setRect({\n        index: _this.props.index,\n        rect: rect,\n        offset: offset,\n        nextOffset: getNextOffset({\n          from: position.from,\n          rect: rect,\n          direction: direction\n        })\n      });\n\n      if (isMount) {\n        var nextTriggerOnMount$$1 = nextTriggerOnMount({\n          mode: mode,\n          rect: rect,\n          position: position,\n          offset: offset,\n          direction: direction,\n          width: width\n        });\n\n        if (nextTriggerOnMount$$1) {\n          onNext({\n            id: id,\n            index: index,\n            rect: rect,\n            nextOffset: getNextOffset({\n              from: position.from,\n              rect: rect,\n              direction: direction\n            })\n          });\n        }\n\n        if (!nextTriggerOnMount$$1 && (offset || index === 0)) {\n          onNext({\n            id: id,\n            index: index,\n            rect: rect\n          });\n        }\n\n        _this.nextTriggered = nextTriggerOnMount$$1;\n      }\n\n      _this.setState({\n        rect: rect,\n        offset: offset,\n        position: position\n      });\n    }, _this.shouldTriggerNext = function () {\n      if (_this.nextTriggered) return false;\n      return _this.props.direction === 'toLeft' ? _this.x <= _this.state.position.next : _this.x >= _this.state.position.next;\n    }, _this.triggerNext = function () {\n      if (_this.shouldTriggerNext()) {\n        // if (this.props.index === 5) console.log(this.x)\n        _this.nextTriggered = true;\n\n        _this.props.onNext({\n          id: _this.props.id,\n          index: _this.props.index,\n          rect: _this.state.rect\n        });\n      }\n    }, _this.shouldFinish = function () {\n      switch (_this.props.direction) {\n        case 'toRight':\n          return _this.x >= _this.state.position.to;\n\n        case 'toLeft':\n        default:\n          return _this.x <= _this.state.position.to;\n      }\n    }, _this.animate = function () {\n      if (_this.isMoving) return;\n      _this.isMoving = true;\n      var prevTimestamp = null;\n\n      var step = function step(timestamp) {\n        if (!_this.isMoving) return;\n        if (!_this.elementRef.current) return;\n        var progress = prevTimestamp ? timestamp - prevTimestamp : 0;\n        _this.x = _this.props.direction === 'toLeft' ? _this.x - progress / 100 * _this.props.speed : _this.x + progress / 100 * _this.props.speed;\n        _this.elementRef.current.style.transform = 'translate3d(' + _this.x + 'px, 0, 0)';\n\n        _this.triggerNext();\n\n        if (_this.shouldFinish()) {\n          _this.isMoving = false;\n          prevTimestamp = null;\n\n          _this.props.onFinish(_this.props.id);\n        } else {\n          prevTimestamp = timestamp;\n          window.requestAnimationFrame(step);\n        }\n      };\n\n      window.requestAnimationFrame(step);\n    }, _this.render = function () {\n      return React.createElement('div', {\n        className: 'ticker__element',\n        style: {\n          willChange: 'transform',\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          transform: 'translate3d(' + _this.x + 'px, 0, 0)'\n        },\n        ref: _this.elementRef\n      }, _this.state.children);\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  return TickerElement;\n}(React.Component);\n\nTickerElement.propTypes = {\n  children: oneOfType([node, func]).isRequired,\n  direction: string.isRequired,\n  speed: number.isRequired,\n  id: string.isRequired,\n  index: number.isRequired,\n  mode: string.isRequired,\n  move: bool.isRequired,\n  onNext: func.isRequired,\n  onFinish: func.isRequired,\n  setRect: func.isRequired,\n  start: bool.isRequired,\n  offset: oneOfType([number, string]),\n  prevRect: object,\n  width: number\n};\nTickerElement.defaultProps = {\n  offset: undefined,\n  width: undefined,\n  prevRect: null\n};\n\nvar getDefaultState = function getDefaultState(offset, width) {\n  return {\n    elements: [{\n      id: guidGenerator(),\n      index: 0,\n      height: 0,\n      start: false,\n      offset: offset,\n      rect: null,\n      prevRect: null\n    }],\n    width: width,\n    height: 0\n  };\n};\n\nvar Ticker = function (_React$Component) {\n  inherits(Ticker, _React$Component);\n\n  function Ticker() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, Ticker);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = Ticker.__proto__ || Object.getPrototypeOf(Ticker)).call.apply(_ref, [this].concat(args))), _this), _this.next = null, _this.state = getDefaultState(_this.props.offset), _this.tickerRef = React.createRef(), _this.dOnResize = debounce(function () {\n      return _this.onResize();\n    }, 150), _this.componentDidMount = function () {\n      _this.setState({\n        width: _this.tickerRef.current.offsetWidth,\n        height: _this.props.height\n      });\n\n      window.addEventListener('resize', _this.dOnResize);\n    }, _this.componentWillUnmount = function () {\n      window.removeEventListener('resize', _this.dOnResize);\n    }, _this.setRect = function (_ref2) {\n      var index = _ref2.index,\n          rect = _ref2.rect,\n          offset = _ref2.offset,\n          nextOffset = _ref2.nextOffset;\n\n      _this.setState(function (prevState) {\n        var elements = prevState.elements.map(function (el) {\n          var newEl = el;\n          if (el.index === index) newEl.rect = rect; // next element\n\n          if (el.index === index + 1) {\n            newEl.prevRect = rect;\n\n            if (newEl.offset) {\n              newEl.offset = nextOffset;\n            }\n          }\n\n          return newEl;\n        });\n        return {\n          elements: elements,\n          height: _this.props.height ? prevState.height : getHighest(elements)\n        };\n      });\n    }, _this.onResize = function () {\n      if (!_this.tickerRef.current || _this.tickerRef.current.offsetWidth === _this.state.width) return;\n\n      _this.setState(_extends({}, getDefaultState(_this.props.offset, _this.tickerRef.current.offsetWidth), {\n        height: _this.props.height\n      }));\n    }, _this.onFinish = function (id) {\n      _this.setState(function (prevState) {\n        return {\n          elements: prevState.elements.filter(function (el) {\n            return el.id !== id;\n          })\n        };\n      });\n    }, _this.onNext = function (_ref3) {\n      var id = _ref3.id,\n          index = _ref3.index,\n          rect = _ref3.rect,\n          nextOffset = _ref3.nextOffset;\n\n      _this.setState(function (prevState) {\n        return {\n          elements: [].concat(toConsumableArray(prevState.elements.map(function (el) {\n            var newEl = el;\n            if (el.index === index) newEl.rect = rect;\n\n            if (el.index === 0 || el.offset || newEl.index === index + 1) {\n              newEl.start = true;\n            }\n\n            return newEl; // create new element\n          })), [{\n            id: guidGenerator(),\n            index: prevState.elements[prevState.elements.length - 1].index + 1,\n            height: 0,\n            start: false,\n            offset: nextOffset,\n            rect: null,\n            prevRect: rect\n          }])\n        };\n      });\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(Ticker, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement('div', {\n        className: 'ticker',\n        ref: this.tickerRef,\n        style: {\n          position: 'relative',\n          overflow: 'hidden',\n          height: this.state.height && this.state.height + 'px'\n        }\n      }, this.state.width && this.state.elements.map(function (el) {\n        return React.createElement(TickerElement, {\n          key: el.id,\n          id: el.id,\n          index: el.index,\n          start: el.start,\n          offset: el.offset,\n          prevRect: el.prevRect,\n          direction: _this2.props.direction,\n          mode: _this2.props.mode,\n          move: _this2.props.move,\n          speed: _this2.props.speed,\n          onFinish: _this2.onFinish,\n          onNext: _this2.onNext,\n          setRect: _this2.setRect,\n          width: _this2.state.width\n        }, _this2.props.children);\n      }));\n    }\n  }]);\n  return Ticker;\n}(React.Component);\n\nTicker.propTypes = {\n  children: oneOfType([node, func]).isRequired,\n  direction: string,\n  mode: string,\n  move: bool,\n  offset: oneOfType([number, string]),\n  speed: number,\n  height: oneOfType([number, string])\n};\nTicker.defaultProps = {\n  offset: 0,\n  speed: 5,\n  direction: 'toLeft',\n  mode: 'chain',\n  move: true,\n  height: undefined\n};\nexport default Ticker;","import React from 'react';\n\nimport styles from './article-ticker.module.css'\n\nimport Ticker from 'react-ticker'\n\nexport default ({textString}) => (\n  <div className={styles.ticker}>\n  <Ticker>\n      {({ index }) => (\n        <>\n        {(textString) &&\n          <span className={styles.item} >{textString}</span>\n        }\n        </>\n      )}\n  </Ticker>\n  </div>\n)","import ArticlePreview from '../components/article-preview'\nimport HomeHero from '../components/home-hero'\nimport Layout from '../components/layout'\nimport PageHead from '../components/PageHead'\nimport React from 'react'\nimport Ticker from '../components/article-ticker'\nimport cx from 'classnames'\nimport get from 'lodash/get'\nimport { graphql } from 'gatsby'\nimport styles from './blog.module.css'\n\nconst ScrollToTop = ({ clickHandler }) => {\n  return (\n    <button className={styles.scroll} onClick={() => clickHandler()}>\n      <span>Top</span>\n    </button>\n  )\n}\n\nclass BlogIndex extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  clickToScrollHandler = () => {\n    if (typeof window !== `undefined`) {\n      window.scrollTo(0, 0)\n    }\n  }\n\n  render() {\n    const posts = get(this, 'props.data.allContentfulBlogPost.edges')\n    const components = get(this, 'props.data.contentfulPage.components')\n    const hasVideo = components\n      ? components.filter(c => c.__typename === 'ContentfulVideoHero')\n      : false\n    const hasTicker = components\n      ? components.filter(c => c.__typename === 'ContentfulTicker')\n      : false\n\n    return (\n      <>\n        <Layout>\n          <PageHead data={this.props.data.contentfulPage} />\n\n          {hasVideo.length > 0 && (\n            <HomeHero classNames={styles.blogHero} {...hasVideo[0]} />\n          )}\n\n          <div\n            className={cx(styles.wrapper, {\n              'has-padding-top': hasVideo.length === 0,\n            })}\n          >\n            {hasTicker.length > 0 && hasVideo && (\n              <Ticker textString={hasTicker[0].text} />\n            )}\n            <div className={cx('wrapper')}>\n              <ul className=\"article-list\">\n                {posts.map((post, i) => {\n                  return <ArticlePreview key={post.node.id} article={post} />\n                })}\n              </ul>\n            </div>\n          </div>\n        </Layout>\n        <ScrollToTop clickHandler={this.clickToScrollHandler} />\n      </>\n    )\n  }\n}\n\nexport default BlogIndex\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    contentfulPage(template: { eq: \"Blog\" }) {\n      slug\n      pageName\n      metaDescription\n      metaImage {\n        title\n        fluid {\n          ...GatsbyContentfulFluid\n        }\n      }\n      components {\n        __typename\n        ... on Node {\n          ...videoHero\n          ...ticker\n        }\n      }\n    }\n    allContentfulBlogPost(sort: { fields: [publishDate], order: DESC }) {\n      edges {\n        node {\n          id\n          title\n          slug\n          publishDate\n          body {\n            id\n            body\n            childMarkdownRemark {\n              html\n            }\n          }\n          video {\n            id\n            videoUrl\n            vimeoId\n          }\n          image {\n            fluid {\n              ...GatsbyContentfulFluid\n            }\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}